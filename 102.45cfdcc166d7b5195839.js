(self.webpackChunkfirst_app=self.webpackChunkfirst_app||[]).push([[102],{102:(e,s,t)=>{"use strict";t.r(s),t.d(s,{UserDetailsModule:()=>y});var r=t(1116),l=t(9892),o=t(6726),n=t(1462),i=t(1021),a=t(1520);class u{constructor(e){this.fb=e,this.waitingForRes="Be ready",this.result="",this.removalOrder=[],this.flamesTexts=[{name:"Friends",isCancel:!1,shortForm:"f"},{name:"Love",isCancel:!1,shortForm:"l"},{name:"Affair",isCancel:!1,shortForm:"a"},{name:"Marriage",isCancel:!1,shortForm:"m"},{name:"Enemy",isCancel:!1,shortForm:"e"},{name:"Sister",isCancel:!1,shortForm:"s"}],this.userData=this.fb.group({yourName:["",n.kI.required],crushName:["",n.kI.required]}),this.flames={f:"Friends",l:"Love",a:"Affair",m:"Marriage",e:"Enemy",s:"Sister"}}}var c=t(8619),f=t(1036),m=t(2693);let h=(()=>{class e{constructor(e){this.http=e}getCrush(e){return this.http.post(f.QG.crush,e)}}return e.\u0275fac=function(s){return new(s||e)(c.LFG(m.eN))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function p(e,s){1&e&&(c.TgZ(0,"span",15),c._uU(1," Enter Your Name"),c.qZA())}function d(e,s){1&e&&(c.TgZ(0,"span",15),c._uU(1," Enter Your Crush Name"),c.qZA())}function g(e,s){if(1&e){const e=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"div",5),c.TgZ(2,"span",6),c._uU(3," FLAMES "),c.qZA(),c.qZA(),c.TgZ(4,"div",5),c.TgZ(5,"div",7),c.TgZ(6,"span",8),c._UZ(7,"i",9),c.qZA(),c.TgZ(8,"input",10),c.NdJ("blur",function(){return c.CHM(e),c.oxw().onBlurFields("iscrushNameValidate")}),c.qZA(),c.qZA(),c.YNc(9,p,2,0,"span",11),c.qZA(),c.TgZ(10,"div",5),c._UZ(11,"span",12),c.qZA(),c.TgZ(12,"div",5),c.TgZ(13,"div",7),c.TgZ(14,"span",8),c._UZ(15,"i",9),c.qZA(),c.TgZ(16,"input",13),c.NdJ("blur",function(){return c.CHM(e),c.oxw().onBlurFields("iscrushNameValidate")}),c.qZA(),c.qZA(),c.YNc(17,d,2,0,"span",11),c.qZA(),c.TgZ(18,"div",5),c.TgZ(19,"p-button",14),c.NdJ("onClick",function(){return c.CHM(e),c.oxw().onSubmit()}),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=c.oxw();c.xp6(9),c.Q6J("ngIf",e.flamesModel.isyourNameValidate&&!e.yourNameDetails.value),c.xp6(8),c.Q6J("ngIf",e.flamesModel.isyourNameValidate&&!e.crushNameFormDetails.value)}}function Z(e,s){1&e&&(c.TgZ(0,"div"),c._uU(1,"here is ignored"),c.qZA())}const v=function(e){return{"txt-dcr-line-thr":e}};function N(e,s){if(1&e&&(c.TgZ(0,"div"),c.TgZ(1,"div",20),c._uU(2),c.qZA(),c.qZA()),2&e){const e=s.$implicit;c.xp6(1),c.Q6J("ngClass",c.VKq(2,v,e.isCancel)),c.xp6(1),c.hij(" ",e.name," ")}}function M(e,s){if(1&e&&c.YNc(0,N,3,4,"div",19),2&e){const e=c.oxw(2);c.Q6J("ngForOf",e.flamesModel.flamesTexts)}}function C(e,s){if(1&e&&(c._uU(0),c.ALo(1,"uppercase")),2&e){const e=c.oxw(2);c.hij(" ",c.lcZ(1,1,e.flamesModel.waitingForRes)," ")}}function T(e,s){if(1&e&&(c.TgZ(0,"div"),c.YNc(1,Z,2,0,"div",16),c.YNc(2,M,1,1,"ng-template",null,17,c.W1O),c.YNc(4,C,2,3,"ng-template",null,18,c.W1O),c.qZA()),2&e){const e=c.MAs(3),s=c.MAs(5),t=c.oxw();c.xp6(1),c.Q6J("ngIf",t.flamesModel.removalOrder.length>1)("ngIfThen",e)("ngIfElse",s)}}function x(e,s){if(1&e){const e=c.EpF();c.TgZ(0,"p-button",21),c.NdJ("onClick",function(){return c.CHM(e),c.oxw().reset()}),c.qZA()}}const A=function(e){return{res:e}},q=[{path:"flames",component:(()=>{class e{constructor(e,s){this.fb=e,this.crushService=s,this.flamesModel=new u(this.fb),this.fla=["f","l","a","m","e","s"]}get formDetails(){return this.flamesModel.userData.controls}get yourNameDetails(){return this.formDetails.yourName}get crushNameFormDetails(){return this.formDetails.crushName}onSubmit(){if(this.checkOnSubmit(),this.flamesModel.userData.invalid)return;let{yourName:e,crushName:s}=this.flamesModel.userData.value,t=e.trim(),r=s.trim();if(t==r)return void(this.flamesModel.result="Enemy");var l=/\s+/g;t=t.toLowerCase().replace(l,"").split(""),r=r.toLowerCase().replace(l,"").split(""),t.forEach((e,s)=>{r.forEach((e,l)=>{t[s]===r[l]&&""!=t[s]&&(t[s]="",r[l]="")})}),t=t.join(""),r=r.join("");let o=t.length+r.length;o-=1;let n=["f","l","a","m","e","s"];for(;n.length>1;){let e=o%n.length;this.flamesModel.removalOrder.push(n[e]),n[e]=" ",n=n.join("").trim().split(" "),n.length>1&&(n=n.reverse().join("").split("")),n=n.join("").split("")}console.log(this.flamesModel.removalOrder);let i=this.flamesModel.flames[n.join("")];this.crushService.getCrush({yourName:e,crushName:s,flamesRes:i}).pipe((0,a.x)(()=>{this.oneByOneRes(),this.flamesModel.result=i})).subscribe()}showResSlow(){let e=5,s=setInterval(()=>{e--,this.flamesModel.waitingForRes=`Result in ${e}`,e||(this.flamesModel.waitingForRes=this.flamesModel.result,clearInterval(s))},1e3)}oneByOneRes(){let e=setInterval(()=>{const s=this.flamesModel.removalOrder.shift();let t=this.flamesModel.flamesTexts.findIndex(e=>e.shortForm===s);this.flamesModel.flamesTexts[t].isCancel=!0,this.flamesModel.removalOrder.length<1&&(clearInterval(e),this.showResSlow())},1e3)}onBlurFields(e){this[e]=!0}checkOnSubmit(){this.flamesModel.isyourNameValidate=!0,this.flamesModel.iscrushNameValidate=!0}reset(){this.flamesModel=new u(this.fb)}}return e.\u0275fac=function(s){return new(s||e)(c.Y36(n.qu),c.Y36(h))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-flames"]],decls:6,vars:7,consts:[[1,"centerOfScreen",3,"formGroup"],[1,"p-col-12","p-xl-5","p-p-5","p-md-7","p-xs-12"],[1,"p-fluid","p-jc-center","chat-border","p-p-6",3,"ngClass"],[4,"ngIf"],["label","Check Next Crush","icon","pi pi-refresh","iconPos","right",3,"onClick",4,"ngIf"],[1,"p-col-12"],[1,"royal-ft-wt-700"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"pi","pi-user"],["type","email","pInputText","","placeholder","Your Name","formControlName","yourName",3,"blur"],["class","royal-color-red",4,"ngIf"],[1,"pi","pi-heart","royal-color-red"],["type","text","pInputText","","placeholder","Crush Name","formControlName","crushName",3,"blur"],["label","Calculate",3,"onClick"],[1,"royal-color-red"],[4,"ngIf","ngIfThen","ngIfElse"],["content",""],["other_content",""],[4,"ngFor","ngForOf"],[3,"ngClass"],["label","Check Next Crush","icon","pi pi-refresh","iconPos","right",3,"onClick"]],template:function(e,s){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.YNc(3,g,20,2,"div",3),c.YNc(4,T,6,3,"div",3),c.qZA(),c.YNc(5,x,1,0,"p-button",4),c.qZA(),c.qZA()),2&e&&(c.Q6J("formGroup",s.flamesModel.userData),c.xp6(2),c.Q6J("ngClass",c.VKq(5,A,s.flamesModel.result)),c.xp6(1),c.Q6J("ngIf",!s.flamesModel.result),c.xp6(1),c.Q6J("ngIf",s.flamesModel.result),c.xp6(1),c.Q6J("ngIf",s.flamesModel.result))},directives:[n.JL,n.sg,r.mk,r.O5,n.Fj,l.o,n.JJ,n.u,o.zx,r.sg],pipes:[r.gd],styles:[".res[_ngcontent-%COMP%]{background:#7fffd4}"]}),e})()},{path:"",redirectTo:"flames",pathMatch:"full"}];let w=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[i.Bz.forChild(q)],i.Bz]}),e})(),y=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[r.ez,n.u5,l.j,o.hJ,n.UX,w]]}),e})()}}]);