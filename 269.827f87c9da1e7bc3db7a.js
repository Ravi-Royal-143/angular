(self.webpackChunkfirst_app=self.webpackChunkfirst_app||[]).push([[269],{4269:(e,s,t)=>{"use strict";t.r(s),t.d(s,{UserDetailsModule:()=>I});var r=t(1116),l=t(9892),n=t(6726),o=t(1462),i=t(6472),a=t(1520),u=t(797);class c{constructor(e){this.fb=e,this.waitingForRes="Be ready",this.result="",this.intervals=[],this.removalOrder=[],this.flamesTexts=[{name:"Friends",isCancel:!1,shortForm:"f"},{name:"Love",isCancel:!1,shortForm:"l"},{name:"Affair",isCancel:!1,shortForm:"a"},{name:"Marriage",isCancel:!1,shortForm:"m"},{name:"Enemy",isCancel:!1,shortForm:"e"},{name:"Sister",isCancel:!1,shortForm:"s"}],this.userData=this.fb.group({yourName:["",o.kI.required],crushName:["",o.kI.required]}),this.flames={f:"Friends",l:"Love",a:"Affair",m:"Marriage",e:"Enemy",s:"Sister"}}}var m=t(8619),f=t(1036),h=t(2693);let d=(()=>{class e{constructor(e){this.http=e}getCrush(e){return this.http.post(f.Q.crush,e)}}return e.\u0275fac=function(s){return new(s||e)(m.LFG(h.eN))},e.\u0275prov=m.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function p(e,s){1&e&&(m.TgZ(0,"span",15),m._uU(1," Enter Your Name"),m.qZA())}function g(e,s){1&e&&(m.TgZ(0,"span",15),m._uU(1," Enter Your Crush Name"),m.qZA())}function v(e,s){if(1&e){const e=m.EpF();m.TgZ(0,"div"),m.TgZ(1,"div",5),m.TgZ(2,"span",6),m._uU(3," FLAMES "),m.qZA(),m.qZA(),m.TgZ(4,"div",5),m.TgZ(5,"div",7),m.TgZ(6,"span",8),m._UZ(7,"i",9),m.qZA(),m.TgZ(8,"input",10),m.NdJ("blur",function(){return m.CHM(e),m.oxw().onBlurFields("iscrushNameValidate")}),m.qZA(),m.qZA(),m.YNc(9,p,2,0,"span",11),m.qZA(),m.TgZ(10,"div",5),m._UZ(11,"span",12),m.qZA(),m.TgZ(12,"div",5),m.TgZ(13,"div",7),m.TgZ(14,"span",8),m._UZ(15,"i",9),m.qZA(),m.TgZ(16,"input",13),m.NdJ("blur",function(){return m.CHM(e),m.oxw().onBlurFields("iscrushNameValidate")}),m.qZA(),m.qZA(),m.YNc(17,g,2,0,"span",11),m.qZA(),m.TgZ(18,"div",5),m.TgZ(19,"p-button",14),m.NdJ("onClick",function(){return m.CHM(e),m.oxw().onSubmit()}),m.qZA(),m.qZA(),m.qZA()}if(2&e){const e=m.oxw();m.xp6(9),m.Q6J("ngIf",e.flamesModel.isyourNameValidate&&!e.yourNameDetails.value),m.xp6(8),m.Q6J("ngIf",e.flamesModel.isyourNameValidate&&!e.crushNameFormDetails.value)}}function Z(e,s){1&e&&(m.TgZ(0,"div"),m._uU(1,"here is ignored"),m.qZA())}const M=function(e){return{"txt-dcr-line-thr":e}};function N(e,s){if(1&e&&(m.TgZ(0,"div"),m.TgZ(1,"div",20),m._uU(2),m.qZA(),m.qZA()),2&e){const e=s.$implicit;m.xp6(1),m.Q6J("ngClass",m.VKq(2,M,e.isCancel)),m.xp6(1),m.hij(" ",e.name," ")}}function C(e,s){if(1&e&&m.YNc(0,N,3,4,"div",19),2&e){const e=m.oxw(2);m.Q6J("ngForOf",e.flamesModel.flamesTexts)}}function x(e,s){if(1&e&&(m._uU(0),m.ALo(1,"uppercase")),2&e){const e=m.oxw(2);m.hij(" ",m.lcZ(1,1,e.flamesModel.waitingForRes)," ")}}function A(e,s){if(1&e&&(m.TgZ(0,"div"),m.YNc(1,Z,2,0,"div",16),m.YNc(2,C,1,1,"ng-template",null,17,m.W1O),m.YNc(4,x,2,3,"ng-template",null,18,m.W1O),m.qZA()),2&e){const e=m.MAs(3),s=m.MAs(5),t=m.oxw();m.xp6(1),m.Q6J("ngIf",t.flamesModel.removalOrder.length)("ngIfThen",e)("ngIfElse",s)}}function T(e,s){if(1&e){const e=m.EpF();m.TgZ(0,"p-button",21),m.NdJ("onClick",function(){return m.CHM(e),m.oxw().reset()}),m.qZA()}}const w=function(e){return{res:e}},y=[{path:"flames",component:(()=>{class e extends u.r{constructor(e,s){super(),this.fb=e,this.crushService=s,this.flamesModel=new c(this.fb),this.fla=["f","l","a","m","e","s"]}get formDetails(){return this.flamesModel.userData.controls}get yourNameDetails(){return this.formDetails.yourName}get crushNameFormDetails(){return this.formDetails.crushName}onSubmit(){if(this.checkOnSubmit(),this.flamesModel.userData.invalid)return;const{yourName:e,crushName:s,flamesRes:t}=this.flamesLogic(),r=this.crushService.getCrush({yourName:e,crushName:s,flamesRes:t}).pipe((0,a.x)(()=>{this.oneByOneRes(),this.flamesModel.result=t})).subscribe();this.addsub(r)}flamesLogic(){const{yourName:e,crushName:s}=this.flamesModel.userData.value;let t=e.trim(),r=s.trim();if(t==r)return void(this.flamesModel.result="Enemy");const l=/\s+/g;t=t.toLowerCase().replace(l,"").split(""),r=r.toLowerCase().replace(l,"").split(""),t.forEach((e,s)=>{r.forEach((e,l)=>{t[s]===r[l]&&""!=t[s]&&(t[s]="",r[l]="")})}),t=t.join(""),r=r.join("");let n=t.length+r.length;n-=1;let o=["f","l","a","m","e","s"];for(;o.length>1;){const e=n%o.length;this.flamesModel.removalOrder.push(o[e]),o[e]=" ",o=o.join("").trim().split(" "),o.length>1&&(o=o.reverse().join("").split("")),o=o.join("").split("")}return{yourName:e,crushName:s,flamesRes:this.flamesModel.flames[o.join("")]}}oneByOneRes(){const e=setInterval(()=>{const s=this.flamesModel.removalOrder.shift(),t=this.flamesModel.flamesTexts.findIndex(e=>e.shortForm===s);this.flamesModel.flamesTexts[t].isCancel=!0,this.flamesModel.removalOrder.length||(clearInterval(e),this.showResSlow(),this.removeIntervalFromModel("oneByOneResinterval"))},2e3);this.flamesModel.intervals.push({name:"oneByOneResinterval",interval:e})}showResSlow(){let e=5;const s=setInterval(()=>{e--,this.flamesModel.waitingForRes=`Result in ${e}`,e||(this.flamesModel.waitingForRes=this.flamesModel.result,clearInterval(s),this.removeIntervalFromModel("showResSlowinterval1"))},1e3);this.flamesModel.intervals.push({name:"showResSlowinterval",interval:s})}onBlurFields(e){this[e]=!0}checkOnSubmit(){this.flamesModel.isyourNameValidate=!0,this.flamesModel.iscrushNameValidate=!0}reset(){this.flamesModel=new c(this.fb),this.flamesModel.intervals.length&&this.flamesModel.intervals.map(e=>this.removeIntervalFromModel(e.name))}removeIntervalFromModel(e){var s;clearInterval(null===(s=this.flamesModel.intervals.find(s=>s.name==e))||void 0===s?void 0:s.interval),this.flamesModel.intervals=this.flamesModel.intervals.filter(s=>s.name!==e)}}return e.\u0275fac=function(s){return new(s||e)(m.Y36(o.qu),m.Y36(d))},e.\u0275cmp=m.Xpm({type:e,selectors:[["app-flames"]],features:[m.qOj],decls:6,vars:7,consts:[[1,"centerOfScreen",3,"formGroup"],[1,"p-col-12","p-xl-5","p-p-5","p-md-7","p-xs-12"],[1,"p-fluid","p-jc-center","chat-border","p-p-6",3,"ngClass"],[4,"ngIf"],["label","Check Next Crush","icon","pi pi-refresh","iconPos","right",3,"onClick",4,"ngIf"],[1,"p-col-12"],[1,"royal-ft-wt-700"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"pi","pi-user"],["type","email","pInputText","","placeholder","Your Name","formControlName","yourName",3,"blur"],["class","royal-color-red",4,"ngIf"],[1,"pi","pi-heart","royal-color-red"],["type","text","pInputText","","placeholder","Crush Name","formControlName","crushName",3,"blur"],["label","Calculate",3,"onClick"],[1,"royal-color-red"],[4,"ngIf","ngIfThen","ngIfElse"],["content",""],["other_content",""],[4,"ngFor","ngForOf"],[3,"ngClass"],["label","Check Next Crush","icon","pi pi-refresh","iconPos","right",3,"onClick"]],template:function(e,s){1&e&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"div",2),m.YNc(3,v,20,2,"div",3),m.YNc(4,A,6,3,"div",3),m.qZA(),m.YNc(5,T,1,0,"p-button",4),m.qZA(),m.qZA()),2&e&&(m.Q6J("formGroup",s.flamesModel.userData),m.xp6(2),m.Q6J("ngClass",m.VKq(5,w,s.flamesModel.result)),m.xp6(1),m.Q6J("ngIf",!s.flamesModel.result),m.xp6(1),m.Q6J("ngIf",s.flamesModel.result),m.xp6(1),m.Q6J("ngIf",s.flamesModel.result))},directives:[o.JL,o.sg,r.mk,r.O5,o.Fj,l.o,o.JJ,o.u,n.zx,r.sg],pipes:[r.gd],styles:[".res[_ngcontent-%COMP%]{background:#7fffd4}"]}),e})()},{path:"",redirectTo:"flames",pathMatch:"full"}];let q=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({imports:[[i.Bz.forChild(y)],i.Bz]}),e})(),F=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({imports:[[r.ez,o.UX,n.hJ,o.u5,l.j]]}),e})(),I=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({imports:[[r.ez,o.u5,l.j,n.hJ,o.UX,q,F]]}),e})()}}]);