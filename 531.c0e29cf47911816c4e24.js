(self.webpackChunkfirst_app=self.webpackChunkfirst_app||[]).push([[531],{2531:(s,e,t)=>{"use strict";t.r(e),t.d(e,{CredentialModule:()=>B});var r=t(1116),i=t(1462),a=t(9892),o=t(6726),n=t(322),l=t(6472),u=t(6430),p=t(8619),d=t(2518),c=t(1036),g=t(2693);let m=(()=>{class s{constructor(s){this.http=s}resetPass(s,e,t){return this.http.post(c.Q.resetPassEnd.replace("<ResetMail>",s).replace("<ResetToken>",e),{password:t})}}return s.\u0275fac=function(e){return new(e||s)(p.LFG(g.eN))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Z(s,e){1&s&&(p.TgZ(0,"span",12),p._uU(1," Please Enter Password"),p.qZA())}function h(s,e){1&s&&(p.TgZ(0,"span",12),p._uU(1," Passowrd must be atleast 8 Character"),p.qZA())}function f(s,e){1&s&&(p.TgZ(0,"span",12),p._uU(1," Please Retype Password"),p.qZA())}function w(s,e){1&s&&(p.TgZ(0,"span",12),p._uU(1," Password must be same"),p.qZA())}let v=(()=>{class s extends u.r{constructor(s,e,t,r,a){super(),this.route=s,this.toastMessageService=e,this.fb=t,this.router=r,this.forgetPasswordService=a,this.resettingPass=this.fb.group({password:["",[i.kI.required,i.kI.minLength(8)]],repassword:["",i.kI.required]})}get formDetails(){return this.resettingPass.controls}get passwordFormDetails(){return this.formDetails.password}get repasswordFormDetails(){return this.formDetails.repassword}ngOnInit(){const s=this.route.params.subscribe(s=>{this.gmail=s.gmail,this.token=s.token});this.addsub(s)}onBlurFields(s){this[s]=!0}onSubmit(){this.checkOnSubmit();const{password:s,repassword:e}=this.resettingPass.value;let t=!1;if(t=t||this.isPasswordSame(s,e),t)return;const r=this.forgetPasswordService.resetPass(this.gmail,this.token,this.passwordFormDetails.value).subscribe(s=>{this.toastMessageService.showSuccessToast([s.message]),this.router.navigate(["../../../","log-in"],{relativeTo:this.route,queryParamsHandling:"preserve"})});this.addsub(r)}checkOnSubmit(){this.ispasswordValidate=!0,this.isrepasswordValidate=!0}isPasswordSame(s,e){return s!==e&&(this.toastMessageService.showErrorToast(["Password must be same"]),!0)}}return s.\u0275fac=function(e){return new(e||s)(p.Y36(l.gz),p.Y36(d.D),p.Y36(i.qu),p.Y36(l.F0),p.Y36(m))},s.\u0275cmp=p.Xpm({type:s,selectors:[["app-forget-password"]],features:[p.qOj],decls:22,vars:5,consts:[[1,"centerOfScreen",3,"formGroup"],[1,"col-12","xl:col-5","p-5","md:col-7","xs:col-12"],[1,"p-fluid","justify-content-center","chat-border","p-6"],[1,"col-12"],[1,"royal-ft-wt-700"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"pi","pi-key"],["type","password","pInputText","","placeholder","Password","formControlName","password",3,"blur"],["class","royal-color-red",4,"ngIf"],["type","password","pInputText","","placeholder","Repeat password","formControlName","repassword",3,"blur"],["label","Confirm",3,"onClick"],[1,"royal-color-red"]],template:function(s,e){1&s&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"div",2),p.TgZ(3,"div",3),p.TgZ(4,"span",4),p._uU(5,"Reset Password"),p.qZA(),p.qZA(),p.TgZ(6,"div",3),p.TgZ(7,"div",5),p.TgZ(8,"span",6),p._UZ(9,"i",7),p.qZA(),p.TgZ(10,"input",8),p.NdJ("blur",function(){return e.onBlurFields("ispasswordValidate")}),p.qZA(),p.qZA(),p.YNc(11,Z,2,0,"span",9),p.YNc(12,h,2,0,"span",9),p.qZA(),p.TgZ(13,"div",3),p.TgZ(14,"div",5),p.TgZ(15,"span",6),p._UZ(16,"i",7),p.qZA(),p.TgZ(17,"input",10),p.NdJ("blur",function(){return e.onBlurFields("isrepasswordValidate")}),p.qZA(),p.qZA(),p.YNc(18,f,2,0,"span",9),p.YNc(19,w,2,0,"span",9),p.qZA(),p.TgZ(20,"div",3),p.TgZ(21,"p-button",11),p.NdJ("onClick",function(){return e.onSubmit()}),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&s&&(p.Q6J("formGroup",e.resettingPass),p.xp6(11),p.Q6J("ngIf",e.ispasswordValidate&&!e.passwordFormDetails.value),p.xp6(1),p.Q6J("ngIf",e.ispasswordValidate&&e.passwordFormDetails.value&&e.passwordFormDetails.invalid),p.xp6(6),p.Q6J("ngIf",e.isrepasswordValidate&&!e.repasswordFormDetails.value),p.xp6(1),p.Q6J("ngIf",e.ispasswordValidate&&e.isrepasswordValidate&&e.repasswordFormDetails.value&&e.repasswordFormDetails.value!==e.passwordFormDetails.value))},directives:[i.JL,i.sg,i.Fj,a.o,i.JJ,i.u,r.O5,o.zx],styles:[""]}),s})();var T=t(3105);let q=(()=>{class s{constructor(s){this.http=s}authenticate(s){return this.http.post(c.Q.logIn,s)}resetPass(s){return this.http.get(c.Q.resetPass.replace("<ResetMail>",s))}}return s.\u0275fac=function(e){return new(e||s)(p.LFG(g.eN))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var A=t(7012);function b(s,e){1&s&&(p.TgZ(0,"span",20),p._uU(1," Please Enter Email"),p.qZA())}function P(s,e){1&s&&(p.TgZ(0,"span",20),p._uU(1," Please Enter Valid Email"),p.qZA())}function F(s,e){1&s&&(p.TgZ(0,"span",20),p._uU(1," Please Enter Password"),p.qZA())}function I(s,e){1&s&&(p.TgZ(0,"span",20),p._uU(1," Please Enter Email"),p.qZA())}function U(s,e){1&s&&(p.TgZ(0,"span",20),p._uU(1," Please Enter Valid Email"),p.qZA())}const k=function(){return["../","sign-up"]};let y=(()=>{class s extends u.r{constructor(s,e,t,r,a,o){super(),this.fb=s,this.logInService=e,this.router=t,this.route=r,this.toastMessageService=a,this.store=o,this.forgotGmail=new i.NI("",[i.kI.required,i.kI.email]),this.userInfo=this.fb.group({gmail:["",[i.kI.required,i.kI.email]],password:["",i.kI.required]})}get formDetails(){return this.userInfo.controls}get gmailFormDetails(){return this.formDetails.gmail}get passwordFormDetails(){return this.formDetails.password}onSubmit(){this.checkOnSubmit();const{gmail:s,password:e}=this.userInfo.value;if(this.userInfo.invalid)return;const t=this.logInService.authenticate({gmail:s,password:e}).subscribe(s=>{document.cookie="cookie="+s.cookie+";expires="+this.expTime().toUTCString()+";path=/",this.store.dispatch(T.x({loggedIn:!0})),this.toastMessageService.showSuccessToast(["Sucessfully logged in."]),this.redirectionIfAny()});this.addsub(t)}expTime(){const s=new Date,e=s.getTime();return s.setTime(e+36e6),s}redirectionIfAny(){let s="/";const e=this.route.snapshot.queryParams;e.redirectURL&&(s=e.redirectURL),s?this.router.navigateByUrl(s).catch(()=>this.router.navigate(["/"])):this.router.navigate(["/"])}onBlurFields(s){this[s]=!0}checkOnSubmit(){this.isgmailValidate=!0,this.ispasswordValidate=!0}closeForgotPass(){this.isPasswordForgot=!1,this.isforgetGmailValidate=!1,this.forgotGmail.reset()}onResetPass(){if(this.checkonResetPass(),this.forgotGmail.invalid)return;const s=this.logInService.resetPass(this.forgotGmail.value).subscribe(s=>{this.toastMessageService.showSuccessToast([s.message]),this.closeForgotPass()});this.addsub(s)}checkonResetPass(){this.isforgetGmailValidate=!0}}return s.\u0275fac=function(e){return new(e||s)(p.Y36(i.qu),p.Y36(q),p.Y36(l.F0),p.Y36(l.gz),p.Y36(d.D),p.Y36(A.yh))},s.\u0275cmp=p.Xpm({type:s,selectors:[["app-log-in"]],features:[p.qOj],decls:42,vars:10,consts:[[1,"centerOfScreen",3,"formGroup"],[1,"col-12","xl:col-5","p-5","md:col-7","xs:col-12"],[1,"p-fluid","justify-content-center","chat-border","p-6"],[1,"col-12"],[1,"royal-ft-wt-700"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"pi","pi-user"],["type","email","pInputText","","placeholder","Email","formControlName","gmail",3,"blur"],["class","royal-color-red",4,"ngIf"],[1,"pi","pi-key"],["type","password","pInputText","","placeholder","Password","formControlName","password",3,"blur"],["label","Log-in",3,"onClick"],["queryParamsHandling","preserve",3,"routerLink"],[1,"col-12",3,"click"],["pButton","","pRipple","","type","button","label","Forgot Your Password?",1,"p-button-text"],["header","Reset Your Password",3,"visible","visibleChange","onHide"],[1,"p-fluid"],["type","email","pInputText","","placeholder","Email Address","required","",3,"formControl","blur"],["pButton","","pRipple","","type","button","label","Submit",1,"p-button-rounded",3,"click"],[1,"royal-color-red"]],template:function(s,e){1&s&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"div",2),p.TgZ(3,"div",3),p.TgZ(4,"span",4),p._uU(5,"Log In"),p.qZA(),p.qZA(),p.TgZ(6,"div",3),p.TgZ(7,"div",5),p.TgZ(8,"span",6),p._UZ(9,"i",7),p.qZA(),p.TgZ(10,"input",8),p.NdJ("blur",function(){return e.onBlurFields("isgmailValidate")}),p.qZA(),p.qZA(),p.YNc(11,b,2,0,"span",9),p.YNc(12,P,2,0,"span",9),p.qZA(),p.TgZ(13,"div",3),p.TgZ(14,"div",5),p.TgZ(15,"span",6),p._UZ(16,"i",10),p.qZA(),p.TgZ(17,"input",11),p.NdJ("blur",function(){return e.onBlurFields("ispasswordValidate")}),p.qZA(),p.qZA(),p.YNc(18,F,2,0,"span",9),p.qZA(),p.TgZ(19,"div",3),p.TgZ(20,"p-button",12),p.NdJ("onClick",function(){return e.onSubmit()}),p.qZA(),p.qZA(),p.TgZ(21,"div",3),p._uU(22," New Member? "),p.TgZ(23,"a",13),p._uU(24,"Create an account"),p.qZA(),p.qZA(),p.TgZ(25,"div",14),p.NdJ("click",function(){return e.isPasswordForgot=!0}),p._UZ(26,"button",15),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(27,"p-dialog",16),p.NdJ("visibleChange",function(s){return e.isPasswordForgot=s})("onHide",function(){return e.closeForgotPass()}),p.TgZ(28,"div",17),p.TgZ(29,"div",3),p._uU(30," Enter the email associated with your account and "),p._UZ(31,"br"),p._uU(32," we'll send you instructions to reset your password. "),p.qZA(),p.TgZ(33,"div",3),p.TgZ(34,"div",5),p.TgZ(35,"span",6),p._UZ(36,"i",7),p.qZA(),p.TgZ(37,"input",18),p.NdJ("blur",function(){return e.onBlurFields("isforgetGmailValidate")}),p.qZA(),p.qZA(),p.YNc(38,I,2,0,"span",9),p.YNc(39,U,2,0,"span",9),p.qZA(),p.TgZ(40,"div",3),p.TgZ(41,"button",19),p.NdJ("click",function(){return e.onResetPass()}),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&s&&(p.Q6J("formGroup",e.userInfo),p.xp6(11),p.Q6J("ngIf",e.isgmailValidate&&!e.gmailFormDetails.value),p.xp6(1),p.Q6J("ngIf",e.isgmailValidate&&e.gmailFormDetails.value&&e.gmailFormDetails.invalid),p.xp6(6),p.Q6J("ngIf",e.ispasswordValidate&&!e.passwordFormDetails.value),p.xp6(5),p.Q6J("routerLink",p.DdM(9,k)),p.xp6(4),p.Q6J("visible",e.isPasswordForgot),p.xp6(10),p.Q6J("formControl",e.forgotGmail),p.xp6(1),p.Q6J("ngIf",e.isforgetGmailValidate&&!e.forgotGmail.value),p.xp6(1),p.Q6J("ngIf",e.isforgetGmailValidate&&!!e.forgotGmail.value&&e.forgotGmail.invalid))},directives:[i.JL,i.sg,i.Fj,a.o,i.JJ,i.u,r.O5,o.zx,l.yS,o.Hq,n.V,i.Q7,i.oH],styles:[""]}),s})(),S=(()=>{class s{constructor(s){this.http=s}signUp(s){return this.http.post(c.Q.signUp,s)}}return s.\u0275fac=function(e){return new(e||s)(p.LFG(g.eN))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function N(s,e){1&s&&(p.TgZ(0,"span",17),p._uU(1," Please Enter User Name"),p.qZA())}function D(s,e){1&s&&(p.TgZ(0,"span",17),p._uU(1," Enter atleast 5 Character"),p.qZA())}function J(s,e){1&s&&(p.TgZ(0,"span",17),p._uU(1," Please Enter Email"),p.qZA())}function x(s,e){1&s&&(p.TgZ(0,"span",17),p._uU(1," Please Enter Valid Email"),p.qZA())}function V(s,e){1&s&&(p.TgZ(0,"span",17),p._uU(1," Please Enter Password"),p.qZA())}function _(s,e){1&s&&(p.TgZ(0,"span",17),p._uU(1," Passowrd must be atleast 8 Character"),p.qZA())}function Y(s,e){1&s&&(p.TgZ(0,"span",17),p._uU(1," Please Retype Password"),p.qZA())}function Q(s,e){1&s&&(p.TgZ(0,"span",17),p._uU(1," Password must be same"),p.qZA())}const C=function(){return["../","log-in"]},E=[{path:"log-in",component:y},{path:"sign-up",component:(()=>{class s extends u.r{constructor(s,e,t,r,a){super(),this.fb=s,this.signUpService=e,this.router=t,this.route=r,this.toastMessageService=a,this.userSignUp=this.fb.group({username:["",[i.kI.required,i.kI.minLength(5)]],gmail:["",[i.kI.required,i.kI.email]],password:["",[i.kI.required,i.kI.minLength(8)]],repassword:["",i.kI.required]})}get formDetails(){return this.userSignUp.controls}get userNameFormDetails(){return this.formDetails.username}get gmailFormDetails(){return this.formDetails.gmail}get passwordFormDetails(){return this.formDetails.password}get repasswordFormDetails(){return this.formDetails.repassword}onSubmit(){this.checkOnSubmit();const{username:s,gmail:e,password:t,repassword:r}=this.userSignUp.value;let i=!1;if(i=!!this.userSignUp.invalid||this.checkDataPresent(),i=i||this.isPasswordSame(t,r),i)return;const a=this.signUpService.signUp({gmail:e,password:t,username:s}).subscribe(s=>{this.toastMessageService.showSuccessToast([s.message]),this.router.navigate(["../","log-in"],{relativeTo:this.route,queryParamsHandling:"preserve"})});this.addsub(a)}onBlurFields(s){this[s]=!0}checkOnSubmit(){this.isgmailValidate=!0,this.isUserNameValidate=!0,this.ispasswordValidate=!0,this.isrepasswordValidate=!0}checkDataPresent(){const s=[];return Object.keys(this.userSignUp.controls).forEach(e=>{this.formDetails[e].value||s.push(`Please Enter ${e}`)}),!!s.length&&(this.toastMessageService.showErrorToast(s),!0)}isPasswordSame(s,e){return s!==e&&(this.toastMessageService.showErrorToast(["Password must be same"]),!0)}}return s.\u0275fac=function(e){return new(e||s)(p.Y36(i.qu),p.Y36(S),p.Y36(l.F0),p.Y36(l.gz),p.Y36(d.D))},s.\u0275cmp=p.Xpm({type:s,selectors:[["app-sign-up"]],features:[p.qOj],decls:40,vars:11,consts:[[1,"centerOfScreen",3,"formGroup"],[1,"col-12","xl:col-5","p-5","md:col-7","xs:col-12"],[1,"p-fluid","justify-content-center","chat-border","p-6"],[1,"col-12"],[1,"royal-ft-wt-700"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"pi","pi-user"],["type","text","pInputText","","placeholder","User Name","formControlName","username",3,"blur"],["class","royal-color-red",4,"ngIf"],[1,"pi","pi-envelope"],["type","email","pInputText","","placeholder","Email","formControlName","gmail",3,"blur"],[1,"pi","pi-key"],["type","password","pInputText","","placeholder","Password","formControlName","password",3,"blur"],["type","password","pInputText","","placeholder","Repeat password","formControlName","repassword",3,"blur"],["label","Sign Up",3,"onClick"],["queryParamsHandling","preserve",3,"routerLink"],[1,"royal-color-red"]],template:function(s,e){1&s&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"div",2),p.TgZ(3,"div",3),p.TgZ(4,"span",4),p._uU(5,"Sign Up"),p.qZA(),p.qZA(),p.TgZ(6,"div",3),p.TgZ(7,"div",5),p.TgZ(8,"span",6),p._UZ(9,"i",7),p.qZA(),p.TgZ(10,"input",8),p.NdJ("blur",function(){return e.onBlurFields("isUserNameValidate")}),p.qZA(),p.qZA(),p.YNc(11,N,2,0,"span",9),p.YNc(12,D,2,0,"span",9),p.qZA(),p.TgZ(13,"div",3),p.TgZ(14,"div",5),p.TgZ(15,"span",6),p._UZ(16,"i",10),p.qZA(),p.TgZ(17,"input",11),p.NdJ("blur",function(){return e.onBlurFields("isgmailValidate")}),p.qZA(),p.qZA(),p.YNc(18,J,2,0,"span",9),p.YNc(19,x,2,0,"span",9),p.qZA(),p.TgZ(20,"div",3),p.TgZ(21,"div",5),p.TgZ(22,"span",6),p._UZ(23,"i",12),p.qZA(),p.TgZ(24,"input",13),p.NdJ("blur",function(){return e.onBlurFields("ispasswordValidate")}),p.qZA(),p.qZA(),p.YNc(25,V,2,0,"span",9),p.YNc(26,_,2,0,"span",9),p.qZA(),p.TgZ(27,"div",3),p.TgZ(28,"div",5),p.TgZ(29,"span",6),p._UZ(30,"i",12),p.qZA(),p.TgZ(31,"input",14),p.NdJ("blur",function(){return e.onBlurFields("isrepasswordValidate")}),p.qZA(),p.qZA(),p.YNc(32,Y,2,0,"span",9),p.YNc(33,Q,2,0,"span",9),p.qZA(),p.TgZ(34,"div",3),p.TgZ(35,"p-button",15),p.NdJ("onClick",function(){return e.onSubmit()}),p.qZA(),p.qZA(),p.TgZ(36,"div",3),p._uU(37," Already member "),p.TgZ(38,"a",16),p._uU(39," Log-in"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&s&&(p.Q6J("formGroup",e.userSignUp),p.xp6(11),p.Q6J("ngIf",e.isUserNameValidate&&!e.userNameFormDetails.value),p.xp6(1),p.Q6J("ngIf",e.isUserNameValidate&&e.userNameFormDetails.value&&e.userNameFormDetails.invalid),p.xp6(6),p.Q6J("ngIf",e.isgmailValidate&&!e.gmailFormDetails.value),p.xp6(1),p.Q6J("ngIf",e.isgmailValidate&&e.gmailFormDetails.value&&e.gmailFormDetails.invalid),p.xp6(6),p.Q6J("ngIf",e.ispasswordValidate&&!e.passwordFormDetails.value),p.xp6(1),p.Q6J("ngIf",e.ispasswordValidate&&e.passwordFormDetails.value&&e.passwordFormDetails.invalid),p.xp6(6),p.Q6J("ngIf",e.isrepasswordValidate&&!e.repasswordFormDetails.value),p.xp6(1),p.Q6J("ngIf",e.ispasswordValidate&&e.isrepasswordValidate&&e.repasswordFormDetails.value&&e.repasswordFormDetails.value!==e.passwordFormDetails.value),p.xp6(5),p.Q6J("routerLink",p.DdM(10,C)))},directives:[i.JL,i.sg,i.Fj,a.o,i.JJ,i.u,r.O5,o.zx,l.yS],styles:[""]}),s})()},{path:"reset/:gmail/:token",component:v},{path:"",redirectTo:"log-in",pathMatch:"full"}];let G=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({imports:[[l.Bz.forChild(E)],l.Bz]}),s})(),B=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({imports:[[r.ez,i.u5,i.UX,G,a.j,n.S,o.hJ]]}),s})()}}]);