(self.webpackChunkfirst_app=self.webpackChunkfirst_app||[]).push([[58],{7058:(e,s,r)=>{"use strict";r.r(s),r.d(s,{CredentialModule:()=>y});var t=r(1116),i=r(6472),a=r(1462),n=r(797),o=r(8619),l=r(1036),u=r(2693);let p=(()=>{class e{constructor(e){this.http=e}authenticate(e){return this.http.post(l.Q.logIn,e)}}return e.\u0275fac=function(s){return new(s||e)(o.LFG(u.eN))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var d=r(4719),c=r(2030),g=r(9892),m=r(6726);function Z(e,s){1&e&&(o.TgZ(0,"span",14),o._uU(1," Please Enter Gmail"),o.qZA())}function h(e,s){1&e&&(o.TgZ(0,"span",14),o._uU(1," Please Enter Valid Email"),o.qZA())}function f(e,s){1&e&&(o.TgZ(0,"span",14),o._uU(1," Please Enter Password"),o.qZA())}const v=function(){return["../","sign-up"]};let T=(()=>{class e extends n.r{constructor(e,s,r,t,i,n){super(),this.fb=e,this.logInService=s,this.router=r,this.route=t,this.toastMessageService=i,this.navBarService=n,this.userInfo=this.fb.group({gmail:["",[a.kI.required,a.kI.email]],password:["",a.kI.required]})}get formDetails(){return this.userInfo.controls}get gmailFormDetails(){return this.formDetails.gmail}get passwordFormDetails(){return this.formDetails.password}onSubmit(){this.checkOnSubmit();const{gmail:e,password:s}=this.userInfo.value;if(this.userInfo.invalid)return;const r=this.logInService.authenticate({gmail:e,password:s}).subscribe(e=>{document.cookie="cookie="+e.cookie+";expires="+this.expTime().toUTCString()+";path=/",this.navBarService.isLoggedIn.next(!0),this.toastMessageService.showSuccessToast(["Sucessfully logged in."]),this.redirectionIfAny()});this.addsub(r)}expTime(){var e=new Date,s=e.getTime();return e.setTime(s+36e6),e}redirectionIfAny(){let e="/",s=this.route.snapshot.queryParams;s.redirectURL&&(e=s.redirectURL),e?this.router.navigateByUrl(e).catch(()=>this.router.navigate(["/"])):this.router.navigate(["/"])}onBlurFields(e){this[e]=!0}checkOnSubmit(){this.isgmailValidate=!0,this.ispasswordValidate=!0}}return e.\u0275fac=function(s){return new(s||e)(o.Y36(a.qu),o.Y36(p),o.Y36(i.F0),o.Y36(i.gz),o.Y36(d.D),o.Y36(c.u))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-log-in"]],features:[o.qOj],decls:25,vars:6,consts:[[1,"centerOfScreen",3,"formGroup"],[1,"p-col-12","p-xl-5","p-p-5","p-md-7","p-xs-12"],[1,"p-fluid","p-jc-center","chat-border","p-p-6"],[1,"p-col-12"],[1,"royal-ft-wt-700"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"pi","pi-user"],["type","email","pInputText","","placeholder","Gmail","formControlName","gmail",3,"blur"],["class","royal-color-red",4,"ngIf"],[1,"pi","pi-key"],["type","text","pInputText","","placeholder","Password","formControlName","password",3,"blur"],["label","Log-in",3,"onClick"],["queryParamsHandling","preserve",3,"routerLink"],[1,"royal-color-red"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"span",4),o._uU(5,"Log In"),o.qZA(),o.qZA(),o.TgZ(6,"div",3),o.TgZ(7,"div",5),o.TgZ(8,"span",6),o._UZ(9,"i",7),o.qZA(),o.TgZ(10,"input",8),o.NdJ("blur",function(){return s.onBlurFields("isgmailValidate")}),o.qZA(),o.qZA(),o.YNc(11,Z,2,0,"span",9),o.YNc(12,h,2,0,"span",9),o.qZA(),o.TgZ(13,"div",3),o.TgZ(14,"div",5),o.TgZ(15,"span",6),o._UZ(16,"i",10),o.qZA(),o.TgZ(17,"input",11),o.NdJ("blur",function(){return s.onBlurFields("ispasswordValidate")}),o.qZA(),o.qZA(),o.YNc(18,f,2,0,"span",9),o.qZA(),o.TgZ(19,"div",3),o.TgZ(20,"p-button",12),o.NdJ("onClick",function(){return s.onSubmit()}),o.qZA(),o.qZA(),o.TgZ(21,"div",3),o._uU(22," New member.Please "),o.TgZ(23,"a",13),o._uU(24," Sign-up"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.Q6J("formGroup",s.userInfo),o.xp6(11),o.Q6J("ngIf",s.isgmailValidate&&!s.gmailFormDetails.value),o.xp6(1),o.Q6J("ngIf",s.isgmailValidate&&s.gmailFormDetails.value&&s.gmailFormDetails.invalid),o.xp6(6),o.Q6J("ngIf",s.ispasswordValidate&&!s.passwordFormDetails.value),o.xp6(5),o.Q6J("routerLink",o.DdM(5,v)))},directives:[a.JL,a.sg,a.Fj,g.o,a.JJ,a.u,t.O5,m.zx,i.yS],styles:[""]}),e})(),q=(()=>{class e{constructor(e){this.http=e}signUp(e){return this.http.post(l.Q.signUp,e)}}return e.\u0275fac=function(s){return new(s||e)(o.LFG(u.eN))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function w(e,s){1&e&&(o.TgZ(0,"span",17),o._uU(1," Please Enter User Name"),o.qZA())}function A(e,s){1&e&&(o.TgZ(0,"span",17),o._uU(1," Enter atleast 5 Character"),o.qZA())}function U(e,s){1&e&&(o.TgZ(0,"span",17),o._uU(1," Please Enter Gmail"),o.qZA())}function b(e,s){1&e&&(o.TgZ(0,"span",17),o._uU(1," Please Enter Valid Email"),o.qZA())}function I(e,s){1&e&&(o.TgZ(0,"span",17),o._uU(1," Please Enter Password"),o.qZA())}function S(e,s){1&e&&(o.TgZ(0,"span",17),o._uU(1," Passowrd must be atleast 8 Character"),o.qZA())}function D(e,s){1&e&&(o.TgZ(0,"span",17),o._uU(1," Please Retype Password"),o.qZA())}function N(e,s){1&e&&(o.TgZ(0,"span",17),o._uU(1," Password must be same"),o.qZA())}const F=function(){return["../","log-in"]},k=[{path:"log-in",component:T},{path:"sign-up",component:(()=>{class e extends n.r{constructor(e,s,r,t,i){super(),this.fb=e,this.signUpService=s,this.router=r,this.route=t,this.toastMessageService=i,this.userSignUp=this.fb.group({username:["",[a.kI.required,a.kI.minLength(5)]],gmail:["",[a.kI.required,a.kI.email]],password:["",[a.kI.required,a.kI.minLength(8)]],repassword:["",a.kI.required]})}get formDetails(){return this.userSignUp.controls}get userNameFormDetails(){return this.formDetails.username}get gmailFormDetails(){return this.formDetails.gmail}get passwordFormDetails(){return this.formDetails.password}get repasswordFormDetails(){return this.formDetails.repassword}onSubmit(){this.checkOnSubmit();const{username:e,gmail:s,password:r,repassword:t}=this.userSignUp.value;let i=!1;if(i=!!this.userSignUp.invalid||this.checkDataPresent(),i=i||this.isPasswordSame(r,t),i)return;const a=this.signUpService.signUp({gmail:s,password:r,username:e}).subscribe(e=>{this.toastMessageService.showSuccessToast([e.message]),this.router.navigate(["../","log-in"],{relativeTo:this.route,queryParamsHandling:"preserve"})});this.addsub(a)}onBlurFields(e){this[e]=!0}checkOnSubmit(){this.isgmailValidate=!0,this.isUserNameValidate=!0,this.ispasswordValidate=!0,this.isrepasswordValidate=!0}checkDataPresent(){const e=[];return Object.keys(this.userSignUp.controls).forEach(s=>{this.formDetails[s].value||e.push(`Please Enter ${s}`)}),!!e.length&&(this.toastMessageService.showErrorToast(e),!0)}isPasswordSame(e,s){return e!==s&&(this.toastMessageService.showErrorToast(["Password must be same"]),!0)}}return e.\u0275fac=function(s){return new(s||e)(o.Y36(a.qu),o.Y36(q),o.Y36(i.F0),o.Y36(i.gz),o.Y36(d.D))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-sign-up"]],features:[o.qOj],decls:40,vars:11,consts:[[1,"centerOfScreen",3,"formGroup"],[1,"p-col-12","p-xl-5","p-p-5","p-md-7","p-xs-12"],[1,"p-fluid","p-jc-center","chat-border","p-p-6"],[1,"p-col-12"],[1,"royal-ft-wt-700"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"pi","pi-user"],["type","text","pInputText","","placeholder","User Name","formControlName","username",3,"blur"],["class","royal-color-red",4,"ngIf"],[1,"pi","pi-envelope"],["type","email","pInputText","","placeholder","Email","formControlName","gmail",3,"blur"],[1,"pi","pi-key"],["type","text","pInputText","","placeholder","Password","formControlName","password",3,"blur"],["type","text","pInputText","","placeholder","Repeat password","formControlName","repassword",3,"blur"],["label","Sign Up",3,"onClick"],["queryParamsHandling","preserve",3,"routerLink"],[1,"royal-color-red"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"span",4),o._uU(5,"Sign Up"),o.qZA(),o.qZA(),o.TgZ(6,"div",3),o.TgZ(7,"div",5),o.TgZ(8,"span",6),o._UZ(9,"i",7),o.qZA(),o.TgZ(10,"input",8),o.NdJ("blur",function(){return s.onBlurFields("isUserNameValidate")}),o.qZA(),o.qZA(),o.YNc(11,w,2,0,"span",9),o.YNc(12,A,2,0,"span",9),o.qZA(),o.TgZ(13,"div",3),o.TgZ(14,"div",5),o.TgZ(15,"span",6),o._UZ(16,"i",10),o.qZA(),o.TgZ(17,"input",11),o.NdJ("blur",function(){return s.onBlurFields("isgmailValidate")}),o.qZA(),o.qZA(),o.YNc(18,U,2,0,"span",9),o.YNc(19,b,2,0,"span",9),o.qZA(),o.TgZ(20,"div",3),o.TgZ(21,"div",5),o.TgZ(22,"span",6),o._UZ(23,"i",12),o.qZA(),o.TgZ(24,"input",13),o.NdJ("blur",function(){return s.onBlurFields("ispasswordValidate")}),o.qZA(),o.qZA(),o.YNc(25,I,2,0,"span",9),o.YNc(26,S,2,0,"span",9),o.qZA(),o.TgZ(27,"div",3),o.TgZ(28,"div",5),o.TgZ(29,"span",6),o._UZ(30,"i",12),o.qZA(),o.TgZ(31,"input",14),o.NdJ("blur",function(){return s.onBlurFields("isrepasswordValidate")}),o.qZA(),o.qZA(),o.YNc(32,D,2,0,"span",9),o.YNc(33,N,2,0,"span",9),o.qZA(),o.TgZ(34,"div",3),o.TgZ(35,"p-button",15),o.NdJ("onClick",function(){return s.onSubmit()}),o.qZA(),o.qZA(),o.TgZ(36,"div",3),o._uU(37," Already member "),o.TgZ(38,"a",16),o._uU(39," Log-in"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.Q6J("formGroup",s.userSignUp),o.xp6(11),o.Q6J("ngIf",s.isUserNameValidate&&!s.userNameFormDetails.value),o.xp6(1),o.Q6J("ngIf",s.isUserNameValidate&&s.userNameFormDetails.value&&s.userNameFormDetails.invalid),o.xp6(6),o.Q6J("ngIf",s.isgmailValidate&&!s.gmailFormDetails.value),o.xp6(1),o.Q6J("ngIf",s.isgmailValidate&&s.gmailFormDetails.value&&s.gmailFormDetails.invalid),o.xp6(6),o.Q6J("ngIf",s.ispasswordValidate&&!s.passwordFormDetails.value),o.xp6(1),o.Q6J("ngIf",s.ispasswordValidate&&s.passwordFormDetails.value&&s.passwordFormDetails.invalid),o.xp6(6),o.Q6J("ngIf",s.isrepasswordValidate&&!s.repasswordFormDetails.value),o.xp6(1),o.Q6J("ngIf",s.ispasswordValidate&&s.isrepasswordValidate&&s.repasswordFormDetails.value&&s.repasswordFormDetails.value!==s.passwordFormDetails.value),o.xp6(5),o.Q6J("routerLink",o.DdM(10,F)))},directives:[a.JL,a.sg,a.Fj,g.o,a.JJ,a.u,t.O5,m.zx,i.yS],styles:[""]}),e})()},{path:"",redirectTo:"add",pathMatch:"full"}];let x=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[i.Bz.forChild(k)],i.Bz]}),e})(),y=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[t.ez,a.u5,a.UX,x,g.j,m.hJ]]}),e})()}}]);